<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第2章 对象 | yuemeng</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="shortcut icon" href="/favicon.svg">
    <script src="/scripts/scrollToHash.js"></script>
    <meta name="description" content="Truelove always keeps one upward.">
    
    <link rel="preload" href="/assets/css/0.styles.959fd11a.css" as="style"><link rel="preload" href="/assets/js/app.7d74357e.js" as="script"><link rel="preload" href="/assets/js/2.0f677a1a.js" as="script"><link rel="preload" href="/assets/js/35.0e55c8ce.js" as="script"><link rel="prefetch" href="/assets/js/10.9a4df487.js"><link rel="prefetch" href="/assets/js/11.69c6a90a.js"><link rel="prefetch" href="/assets/js/12.a4e58e58.js"><link rel="prefetch" href="/assets/js/13.cda6946d.js"><link rel="prefetch" href="/assets/js/14.b7be46fd.js"><link rel="prefetch" href="/assets/js/15.79d969c5.js"><link rel="prefetch" href="/assets/js/16.e3b204b6.js"><link rel="prefetch" href="/assets/js/17.0f8978b3.js"><link rel="prefetch" href="/assets/js/18.69a94307.js"><link rel="prefetch" href="/assets/js/19.8791ae4c.js"><link rel="prefetch" href="/assets/js/20.5eae65b4.js"><link rel="prefetch" href="/assets/js/21.84316817.js"><link rel="prefetch" href="/assets/js/22.d74cc20b.js"><link rel="prefetch" href="/assets/js/23.558480e4.js"><link rel="prefetch" href="/assets/js/24.9b2ef736.js"><link rel="prefetch" href="/assets/js/25.54998b03.js"><link rel="prefetch" href="/assets/js/26.fe2b24be.js"><link rel="prefetch" href="/assets/js/27.95683f9b.js"><link rel="prefetch" href="/assets/js/28.212335de.js"><link rel="prefetch" href="/assets/js/29.82144797.js"><link rel="prefetch" href="/assets/js/3.061d24fa.js"><link rel="prefetch" href="/assets/js/30.80d32904.js"><link rel="prefetch" href="/assets/js/31.1e412f56.js"><link rel="prefetch" href="/assets/js/32.428f29cd.js"><link rel="prefetch" href="/assets/js/33.7851b140.js"><link rel="prefetch" href="/assets/js/34.83c5fd86.js"><link rel="prefetch" href="/assets/js/36.aeab0e35.js"><link rel="prefetch" href="/assets/js/37.7f835d79.js"><link rel="prefetch" href="/assets/js/38.f5e80834.js"><link rel="prefetch" href="/assets/js/39.9e53338a.js"><link rel="prefetch" href="/assets/js/4.1ba4748a.js"><link rel="prefetch" href="/assets/js/40.d0d7307e.js"><link rel="prefetch" href="/assets/js/41.4c641681.js"><link rel="prefetch" href="/assets/js/42.785f0e78.js"><link rel="prefetch" href="/assets/js/43.f2685e36.js"><link rel="prefetch" href="/assets/js/44.cb4e41ea.js"><link rel="prefetch" href="/assets/js/5.ad56d99c.js"><link rel="prefetch" href="/assets/js/6.c12321b0.js"><link rel="prefetch" href="/assets/js/7.f54f8a36.js"><link rel="prefetch" href="/assets/js/8.0f0a296d.js"><link rel="prefetch" href="/assets/js/9.96491476.js">
    <link rel="stylesheet" href="/assets/css/0.styles.959fd11a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/favicon.svg" alt="yuemeng" class="logo"> <span class="site-name can-hide">yuemeng</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端技术专题" class="dropdown-title"><span class="title">前端技术专题</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端技术专题" class="mobile-dropdown-title"><span class="title">前端技术专题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/topics/js/" class="nav-link router-link-active">
  Javascript
</a></li><li class="dropdown-item"><!----> <a href="/topics/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/topics/ts/" class="nav-link">
  Typescript
</a></li><li class="dropdown-item"><!----> <a href="/topics/vue/" class="nav-link">
  Vue.js
</a></li><li class="dropdown-item"><!----> <a href="/topics/broswer/" class="nav-link">
  浏览器
</a></li></ul></div></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他专题" class="dropdown-title"><span class="title">其他专题</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他专题" class="mobile-dropdown-title"><span class="title">其他专题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/others/node/" class="nav-link">
  Node.js
</a></li><li class="dropdown-item"><!----> <a href="/others/electron/" class="nav-link">
  Electron
</a></li><li class="dropdown-item"><!----> <a href="/others/nest/" class="nav-link">
  Nest.js
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机科学" class="dropdown-title"><span class="title">计算机科学</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机科学" class="mobile-dropdown-title"><span class="title">计算机科学</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cs/cp/" class="nav-link">
  编译原理
</a></li><li class="dropdown-item"><!----> <a href="/cs/os/" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/cs/cn.html" class="nav-link">
  计算机网络
</a></li></ul></div></div><div class="nav-item"><a href="/tools/" class="nav-link">
  工具
</a></div><div class="nav-item"><a href="/thoughts/" class="nav-link">
  随想
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端技术专题" class="dropdown-title"><span class="title">前端技术专题</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端技术专题" class="mobile-dropdown-title"><span class="title">前端技术专题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/topics/js/" class="nav-link router-link-active">
  Javascript
</a></li><li class="dropdown-item"><!----> <a href="/topics/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/topics/ts/" class="nav-link">
  Typescript
</a></li><li class="dropdown-item"><!----> <a href="/topics/vue/" class="nav-link">
  Vue.js
</a></li><li class="dropdown-item"><!----> <a href="/topics/broswer/" class="nav-link">
  浏览器
</a></li></ul></div></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他专题" class="dropdown-title"><span class="title">其他专题</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他专题" class="mobile-dropdown-title"><span class="title">其他专题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/others/node/" class="nav-link">
  Node.js
</a></li><li class="dropdown-item"><!----> <a href="/others/electron/" class="nav-link">
  Electron
</a></li><li class="dropdown-item"><!----> <a href="/others/nest/" class="nav-link">
  Nest.js
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机科学" class="dropdown-title"><span class="title">计算机科学</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机科学" class="mobile-dropdown-title"><span class="title">计算机科学</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cs/cp/" class="nav-link">
  编译原理
</a></li><li class="dropdown-item"><!----> <a href="/cs/os/" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/cs/cn.html" class="nav-link">
  计算机网络
</a></li></ul></div></div><div class="nav-item"><a href="/tools/" class="nav-link">
  工具
</a></div><div class="nav-item"><a href="/thoughts/" class="nav-link">
  随想
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/topics/js/" aria-current="page" class="sidebar-link">Javascript</a></li><li><a href="/topics/js/basic.html" class="sidebar-link">第1章 基础部分</a></li><li><a href="/topics/js/object.html" aria-current="page" class="active sidebar-link">第2章 对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/topics/js/object.html#_1、介绍" class="sidebar-link">1、介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/topics/js/object.html#_1-属性" class="sidebar-link">（1）属性</a></li><li class="sidebar-sub-header"><a href="/topics/js/object.html#_2-原型" class="sidebar-link">（2）原型</a></li></ul></li><li class="sidebar-sub-header"><a href="/topics/js/object.html#_2、创建对象" class="sidebar-link">2、创建对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/topics/js/object.html#_1-字面量" class="sidebar-link">（1）字面量</a></li><li class="sidebar-sub-header"><a href="/topics/js/object.html#_2-new操作符" class="sidebar-link">（2）new操作符</a></li><li class="sidebar-sub-header"><a href="/topics/js/object.html#_3-object-create" class="sidebar-link">（3）Object.create()</a></li></ul></li><li class="sidebar-sub-header"><a href="/topics/js/object.html#_3、属性操作" class="sidebar-link">3、属性操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/topics/js/object.html#_1-访问属性" class="sidebar-link">（1）访问属性</a></li><li class="sidebar-sub-header"><a href="/topics/js/object.html#_2-属性赋值" class="sidebar-link">（2）属性赋值</a></li><li class="sidebar-sub-header"><a href="/topics/js/object.html#_3-删除属性" class="sidebar-link">（3）删除属性</a></li><li class="sidebar-sub-header"><a href="/topics/js/object.html#_4-测试属性" class="sidebar-link">（4）测试属性</a></li><li class="sidebar-sub-header"><a href="/topics/js/object.html#_5-枚举属性" class="sidebar-link">（5）枚举属性</a></li><li class="sidebar-sub-header"><a href="/topics/js/object.html#_6-拓展对象" class="sidebar-link">（6）拓展对象</a></li></ul></li><li class="sidebar-sub-header"><a href="/topics/js/object.html#_4、对象方法" class="sidebar-link">4、对象方法</a></li><li class="sidebar-sub-header"><a href="/topics/js/object.html#_5、补充语法" class="sidebar-link">5、补充语法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/topics/js/object.html#_1-省略属性值" class="sidebar-link">（1）省略属性值</a></li><li class="sidebar-sub-header"><a href="/topics/js/object.html#_2-计算属性名" class="sidebar-link">（2）计算属性名</a></li><li class="sidebar-sub-header"><a href="/topics/js/object.html#_3-符号作为属性名" class="sidebar-link">（3）符号作为属性名</a></li><li class="sidebar-sub-header"><a href="/topics/js/object.html#_4-方法属性的简写" class="sidebar-link">（4）方法属性的简写</a></li><li class="sidebar-sub-header"><a href="/topics/js/object.html#_5-访问器属性" class="sidebar-link">（5）访问器属性</a></li></ul></li><li class="sidebar-sub-header"><a href="/topics/js/object.html#_6、object-api" class="sidebar-link">6、Object API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/topics/js/object.html#_1-静态方法" class="sidebar-link">（1）静态方法</a></li></ul></li><li class="sidebar-sub-header"><a href="/topics/js/object.html#_7、其他对象" class="sidebar-link">7、其他对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/topics/js/object.html#_1-date" class="sidebar-link">（1）Date</a></li><li class="sidebar-sub-header"><a href="/topics/js/object.html#_2-json对象" class="sidebar-link">（2）JSON对象</a></li></ul></li></ul></li><li><a href="/topics/js/array.html" class="sidebar-link">第3章 数组</a></li><li><a href="/topics/js/function.html" class="sidebar-link">第4章 函数</a></li><li><a href="/topics/js/class.html" class="sidebar-link">第5章 类</a></li><li><a href="/topics/js/module.html" class="sidebar-link">第6章 模块</a></li><li><a href="/topics/js/api.html" class="sidebar-link">第7章 标准库</a></li><li><a href="/topics/js/iterator.html" class="sidebar-link">第8章 迭代器</a></li><li><a href="/topics/js/async.html" class="sidebar-link">第9章 异步编程</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="第2章-对象"><a href="#第2章-对象" class="header-anchor">#</a> 第2章 对象</h1> <h2 id="_1、介绍"><a href="#_1、介绍" class="header-anchor">#</a> 1、介绍</h2> <h3 id="_1-属性"><a href="#_1-属性" class="header-anchor">#</a> （1）属性</h3> <p>对象是属性的集合，每个属性都有名字和值，名字可以是<code>字符串</code>或<code>符号</code>。</p> <p>设置及访问对象属性有两种书写方式，分别为<code>object.property</code>和<code>object[&quot;perperty&quot;]</code>。</p> <p>每个属性还有三个<code>属性特性</code>（元属性），用来限制能对该属性做<strong>什么</strong>：</p> <ul><li><p>writable（可写）</p> <p>是否允许设置属性的值</p></li> <li><p>enumerable（可枚举）</p> <p>是否可被枚举，限制遍历属性时的可见性</p></li> <li><p>configurable（可配置）</p> <p>是否可delete，以及属性特性是否可被修改</p></li></ul> <blockquote><p>大部分内置对象是只读、不可枚举和不可配置的，而默认创建的对象是可写、可枚举和可配置的。</p></blockquote> <h3 id="_2-原型"><a href="#_2-原型" class="header-anchor">#</a> （2）原型</h3> <p>对象可以从其他对象继承属性，这个被继承的对象称为其<code>原型</code>。</p> <blockquote><p>区别于其他语言子类和父类间的继承关系，js中不存在其他语言的类的概念的，js是一切皆为对象，不区分类以及通过该类创建的对象实体。</p></blockquote> <p>想到继承我们自然能想到一种对象间层层链接的关系，我们称其为<code>原型链</code>，对于任一条原型链一定有一个顶级对象没有原型，这个顶级对象是<code>Object.prototype</code>，它是任何<code>Object对象</code>的原型，包括我们使用<code>new Object()</code>和通过<code>对象字面量</code>创建的对象都继承于此。</p> <h2 id="_2、创建对象"><a href="#_2、创建对象" class="header-anchor">#</a> 2、创建对象</h2> <p>对象可通过<code>字面量</code>、<code>new关键字</code>和<code>Object.create()</code>函数创建，下面分别介绍。</p> <h3 id="_1-字面量"><a href="#_1-字面量" class="header-anchor">#</a> （1）字面量</h3> <p>对象字面量是一个表达式，每次求值都会创建一个新的对象。</p> <h3 id="_2-new操作符"><a href="#_2-new操作符" class="header-anchor">#</a> （2）new操作符</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> r <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>new后面跟的是<code>构造函数</code>，除了内置的构造函数，我们还可以自定义构造函数，在后续章节会介绍。</p> <h3 id="_3-object-create"><a href="#_3-object-create" class="header-anchor">#</a> （3）Object.create()</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> o1 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
</code></pre></div><p>参数为其所继承的原型。</p> <h2 id="_3、属性操作"><a href="#_3、属性操作" class="header-anchor">#</a> 3、属性操作</h2> <h3 id="_1-访问属性"><a href="#_1-访问属性" class="header-anchor">#</a> （1）访问属性</h3> <p>属性的访问会沿着整条原型链，直到查询到该属性或查询到为null的对象。</p> <p>访问不存在的属性不是错误，会返回<code>undefined</code>。</p> <h3 id="_2-属性赋值"><a href="#_2-属性赋值" class="header-anchor">#</a> （2）属性赋值</h3> <p>对属性的赋值究竟是触发<code>添加新属性</code>还是<code>修改属性值</code>效果还需要进行一些判断。</p> <p>考虑给对象<code>o</code>的<code>x</code>属性赋值：</p> <ul><li>如果o具有一个名为x的<code>自有可写</code>属性，修改操作成功。（不可写时操作失败）</li> <li>如果o继承了一个名为x的<code>可写</code>属性，这次赋值会创建一个名为x的属性，<code>覆盖</code>继承的同名属性。(只读时失败)</li> <li>如果o继承的是一个<strong>访问器属性</strong>，会调用访问器方法，不会创建新属性。</li></ul> <blockquote><p>访问器属性在后面介绍。</p></blockquote> <h3 id="_3-删除属性"><a href="#_3-删除属性" class="header-anchor">#</a> （3）删除属性</h3> <p><code>delete</code>只可删除<strong>configurable为true的自有属性</strong>。</p> <blockquote><p>🔔可见对属性的操作一定不会影响到其原型。</p></blockquote> <h3 id="_4-测试属性"><a href="#_4-测试属性" class="header-anchor">#</a> （4）测试属性</h3> <ul><li><h4 id="in"><a href="#in" class="header-anchor">#</a> <strong>in</strong></h4> <p>能测试自有属性和继承属性。</p> <blockquote><p>注意<code>for/in</code>遍历时只能遍历可枚举属性，这里是判断操作。</p></blockquote></li> <li><h4 id="hasownproperty"><a href="#hasownproperty" class="header-anchor">#</a> <strong>hasOwnProperty()</strong></h4> <p>能测试自有属性。</p></li> <li><h4 id="propertyisenumerable"><a href="#propertyisenumerable" class="header-anchor">#</a> <strong>propertyIsEnumerable()</strong></h4> <p>能测试可枚举的自有属性。</p></li></ul> <h3 id="_5-枚举属性"><a href="#_5-枚举属性" class="header-anchor">#</a> （5）枚举属性</h3> <ul><li><h4 id="object-keys"><a href="#object-keys" class="header-anchor">#</a> Object.keys()</h4> <p>返回可枚举自有属性名数组。</p> <blockquote><p>最常用。</p></blockquote></li> <li><h4 id="object-getownpropertynames"><a href="#object-getownpropertynames" class="header-anchor">#</a> Object.getOwnPropertyNames()</h4> <p>返回所有自有属性名数组。</p></li> <li><h4 id="reflect-ownkeys"><a href="#reflect-ownkeys" class="header-anchor">#</a> Reflect.ownKeys()</h4> <p>返回所有属性名的数组。</p></li></ul> <h3 id="_6-拓展对象"><a href="#_6-拓展对象" class="header-anchor">#</a> （6）拓展对象</h3> <p>即将一个对象的属性复制到另一个对象上，同时会覆盖目标对象上的同名属性。</p> <p>可以使用<code>for/of</code>遍历赋值，也可使用<code>Object.assign()</code>函数：</p> <div class="language-js extra-class"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> s1<span class="token punctuation">,</span> s2<span class="token operator">...</span><span class="token punctuation">)</span>
</code></pre></div><p>至少有<code>目标对象</code>和<code>来源对象</code>两个参数，各来源对象按照顺序依次对目标对象进行拓展操作，可见当存在多个同名属性时真正起作用的是<code>最右侧</code>的来源对象，函数修改目标对象并返回。</p> <blockquote><p>可以看做对象间从右向左的属性间的合并操作。</p></blockquote> <p>于是当不希望更新同名属性时可采用如下写法：</p> <div class="language-js extra-class"><pre class="language-js"><code>t <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> s<span class="token punctuation">,</span> t<span class="token punctuation">)</span> <span class="token comment">// 拓展完再把同名的更新回来</span>
</code></pre></div><p>除了使用该拓展函数，还可在使用字面量写法创建对象时通过<code>拓展操作符...</code>来达到相同效果：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> t <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">k</span><span class="token operator">:</span> v<span class="token punctuation">,</span> <span class="token operator">...</span>s1<span class="token punctuation">,</span> <span class="token operator">...</span>s2<span class="token punctuation">}</span>
</code></pre></div><p>也是从左向右进行的。</p> <blockquote><p>注意<code>...</code>并非真正的操作符，尽在对象字面量中有拓展对象的功能，在其他上下文中别的作用。</p></blockquote> <h2 id="_4、对象方法"><a href="#_4、对象方法" class="header-anchor">#</a> 4、对象方法</h2> <p>以下是<code>Object.prototype</code>上的通用方法：</p> <ul><li><h4 id="tostring"><a href="#tostring" class="header-anchor">#</a> toString()</h4> <p>在需要对象的字符串表示时自动调用，默认不提供太多信息，需要覆盖重写。</p></li> <li><h4 id="valueof"><a href="#valueof" class="header-anchor">#</a> valueOf()</h4> <p>在需要对象的非字符串原始类型值时自动调用（通常是数值）</p></li> <li><h4 id="tojson"><a href="#tojson" class="header-anchor">#</a> toJSON()</h4> <p>其实<code>Object.prototype</code>上并没有定义该方法，而是一般内置对象都定义了。在<code>对象序列化</code>（serialization）时需要调用该方法。</p> <p>序列化指把对象状态转换成字符串，之后能恢复到原来状态的机制，用于数据交换。基于<code>JSON</code>格式的转换使用<code>JSON.stringify()</code>和<code>JSON.parse()</code>，注意并非所有类型对象的序列化都能完美恢复。</p></li></ul> <h2 id="_5、补充语法"><a href="#_5、补充语法" class="header-anchor">#</a> 5、补充语法</h2> <p>介绍一些在es的最近几个版本中加入的关于对象字面量的新功能。</p> <h3 id="_1-省略属性值"><a href="#_1-省略属性值" class="header-anchor">#</a> （1）省略属性值</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token punctuation">,</span> y<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-计算属性名"><a href="#_2-计算属性名" class="header-anchor">#</a> （2）计算属性名</h3> <p>即用表达式的值作为属性名：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">NAME</span> <span class="token operator">=</span> <span class="token string">&quot;p1&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">compute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">&quot;p&quot;</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token constant">NAME</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token function">compute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-符号作为属性名"><a href="#_3-符号作为属性名" class="header-anchor">#</a> （3）符号作为属性名</h3> <p>前面已经提到过，下面说说需要的场景：</p> <p>当需要向从第三方代码取得的对象添加新属性时，可能会引发不受控的属性名冲突，此时使用符号作为属性名就可以避免这种风险。</p> <h3 id="_4-方法属性的简写"><a href="#_4-方法属性的简写" class="header-anchor">#</a> （4）方法属性的简写</h3> <p>过去这样定义方法属性：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">method</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>简写后是这样：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>感觉可读性增强了，注意到<code>vue</code>语法中普遍采用这种写法。</p> <h3 id="_5-访问器属性"><a href="#_5-访问器属性" class="header-anchor">#</a> （5）访问器属性</h3> <p>之前我们讨论的属性更准确地说应该称为<code>数据属性</code>，其实还可以有一个<code>访问器属性</code>，包括<code>获取方法</code>（getter）和<code>设置方法</code>（setter），如果没有定义设置方法称该访问器属性是只读的。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">dataProp</span><span class="token operator">:</span> value<span class="token punctuation">,</span>
    <span class="token keyword">get</span> <span class="token function">accessorProp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">...</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">set</span> <span class="token function">accessorProp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>可见访问器方法和普通方法的区别就是属性名前有<code>get</code>和<code>set</code>标志，访问器属性的意义在于其所表达的语义。</p> <h2 id="_6、object-api"><a href="#_6、object-api" class="header-anchor">#</a> 6、Object API</h2> <p>关于<code>Object</code>有很多重要的api，有些在前面已经提到过。</p> <h3 id="_1-静态方法"><a href="#_1-静态方法" class="header-anchor">#</a> （1）静态方法</h3> <ul><li><h4 id="object-assign"><a href="#object-assign" class="header-anchor">#</a> Object.assign()</h4> <p>方法用于将所有可枚举属性的值从一个或多个源对象分配到目标对象。它将返回目标对象。</p></li> <li><h4 id="object-create"><a href="#object-create" class="header-anchor">#</a> Object.create()</h4> <p>用于创建对象。</p></li> <li><h4 id="object-defineproperty"><a href="#object-defineproperty" class="header-anchor">#</a> Object.defineProperty()</h4> <p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" target="_blank" rel="noopener noreferrer">Object.defineProperty() - JavaScript | MDN (mozilla.org)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>给对象添加一个属性并指定该属性的配置，其配置<code>get()</code>和<code>set()</code>。是<code>Vue</code>实现变化侦测的关键。</p></li> <li><h4 id="object-setprototypeof"><a href="#object-setprototypeof" class="header-anchor">#</a> Object.setPrototypeOf()</h4> <p>设置一个指定的对象的原型到另一个对象或 <code>null</code></p> <div class="language-js extra-class"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> prototype<span class="token punctuation">)</span>
</code></pre></div></li></ul> <h2 id="_7、其他对象"><a href="#_7、其他对象" class="header-anchor">#</a> 7、其他对象</h2> <h3 id="_1-date"><a href="#_1-date" class="header-anchor">#</a> （1）Date</h3> <p><code>Date()</code>返回当前时间的字符串。</p> <p><code>new Date()</code>返回时间对象，但其表现还是字符串，具有很多实例方法。</p> <h3 id="_2-json对象"><a href="#_2-json对象" class="header-anchor">#</a> （2）JSON对象</h3> <p>JSON 格式（JavaScript Object Notation 的缩写）是一种用于数据交换的文本格式。注意json本身就是个字符串，只是字符串按照一定格式，容易被解析。</p> <p>它有两个静态方法：<code>JSON.stringify()</code>和<code>JSON.parse()</code>。</p> <p>如果对象的属性是<code>undefined</code>、函数或 XML 对象，该属性会被<code>JSON.stringify</code>过滤。</p> <p>如果参数对象有自定义的<code>toJSON</code>方法，那么<code>JSON.stringify</code>会使用这个方法的返回值作为参数，而忽略原对象的其他属性。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">3/31/2022, 11:29:31 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/topics/js/basic.html" class="prev">
        第1章 基础部分
      </a></span> <span class="next"><a href="/topics/js/array.html">
        第3章 数组
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7d74357e.js" defer></script><script src="/assets/js/2.0f677a1a.js" defer></script><script src="/assets/js/35.0e55c8ce.js" defer></script>
  </body>
</html>
